<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decodificador</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <img class="logoAlura" src="/imagens/logoAlura.png" alt="Logo da Alura">
    </header>

    <main>
        <section>
            <div>
                <textarea class="text-area" cols="41" rows="4" placeholder="Digite seu texto"></textarea>
            </div>
            
            <div class="informação">
                <h6>Apenas letras minúsculas e sem acento.</h6>
            </div>

            <div class="botoes">
                <button class="btn-encriptar" onclick="btnEncriptar()">Criptografar</button>
                <button class="btn-desencriptar" onclick="btnDesencriptar()">Descriptografar</button>
            </div>
        </section>

        <section>
            <textarea class="mensagem" cols="20" rows="10"></textarea>
            <button class="btn-copiar">Copiar</button>
        </section>
    </main>

    <script>
        const textArea = document.querySelector(".text-area");
        const mensagem = document.querySelector(".mensagem");

        function btnEncriptar() {
            const textoEncriptado = encriptar(textArea.value);
            mensagem.value = textoEncriptado;
            textArea.value = "";
        }

        function encriptar(stringEncriptada) {
            let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"], ["o", "ober"], ["u", "ufat"]];
            stringEncriptada = stringEncriptada.toLowerCase();

            for (let i = 0; i < matrizCodigo.length; i++) {
                stringEncriptada = stringEncriptada.replaceAll(matrizCodigo[i][0], matrizCodigo[i][1]);
            }

            return stringEncriptada;
        }

        function btnDesencriptar() {
            const textoDesencriptado = desencriptar(textArea.value);
            mensagem.value = textoDesencriptado;
            textArea.value = "";
        }

        function desencriptar(stringDesencriptada) {
            let matrizCodigo = [["e", "enter"], ["i", "imes"], ["a", "ai"], ["o", "ober"], ["u", "ufat"]];
            stringDesencriptada = stringDesencriptada.toLowerCase();

            // Substituir padrões na ordem inversa
            for (let i = matrizCodigo.length - 1; i >= 0; i--) {
                stringDesencriptada = stringDesencriptada.replaceAll(matrizCodigo[i][1], matrizCodigo[i][0]);
            }

            return stringDesencriptada;
        }
        function btncopiar() {
            const textArea = document.getElementById('textArea');
            const mensagem = document.getElementById('mensagem');
            textArea.select();
            document.execCommand('copy');
            mensagem.value = 'Texto copiado!';
            textArea.value = '';
        }
        
    </script>
    <footer class="rodape">
        <div class="icons">
        <a href="https://youtube.com/@mabel444.?si=_aer6mh9N5bbxZCM  "><ion-icon name="logo-youtube" ></ion-icon></a>
        <a href="https://www.instagram.com/llebam.s?igsh=MXFjcjdmdzc2ZDF0Yg=="><ion-icon name="logo-instagram"></ion-icon></a>
        <a href="https://github.com/Mabell-be"><ion-icon name="logo-github"></ion-icon></a>
    </div>
        <h3>Desenvolvido por Mabell-be</h3>
     </footer>

     <script src="interacao/script.js"></script>
     <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
     <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>